# compile_tools

需求文档：Python SSH 远程编译与文件管理工具
1. 项目概览
本项目旨在开发一款桌面应用程序，旨在简化开发者与远程服务器的交互，提供 SSH 连接管理、远程项目编译以及编译产物下载的核心功能。通过简洁直观的类 iOS 风格用户界面，提升用户操作效率和体验。

2. 核心功能模块
2.1. SSH 连接管理
多连接配置： 允许用户添加、编辑、删除多个远程主机的 SSH 连接配置。每个配置项应包含：

主机名或 IP 地址

端口号 (默认为 22)

用户名

认证方式：支持密码认证和密钥文件认证（需提供密钥文件路径）。

连接状态实时显示： 在 UI 上直观显示当前 SSH 连接的状态（例如：已连接、未连接、连接中、连接失败）。

连接测试功能： 提供一键测试 SSH 连接可用性的功能，并显示测试结果。

配置持久化： 所有 SSH 连接配置信息应自动保存，并在程序重启后自动加载。

2.2. 编译项目管理
项目列表展示： 清晰展示所有已配置的编译项目列表。

项目增删改查：

项目名称： 用户自定义的唯一标识符，用于区分不同的编译任务。

远程项目根路径： 编译项目在远程主机上的绝对路径。

编译命令： 支持多行命令输入，这些命令将在远程主机上按顺序执行以完成编译。

编译产物目标目录： 编译完成后，预期生成文件所在的远程目录。

配置持久化： 所有编译项目配置信息应自动保存，并在程序重启后自动加载。

2.3. 远程编译执行
项目选择与执行： 用户从列表中选择一个编译项目后，可点击“编译”按钮触发远程编译过程。

实时编译日志： 在 UI 界面上实时输出 SSH 会话中远程编译命令的执行日志，包括标准输出和标准错误，支持滚动查看。

编译状态反馈： 实时显示编译过程的状态（例如：准备中、正在编译、编译成功、编译失败、已中断）。

中断编译功能： 提供按钮允许用户在编译过程中随时中断当前正在执行的编译任务。

2.4. 编译产物管理与下载
产物自动检测： 编译成功后，程序应自动检查“编译产物目标目录”下是否有新生成的文件。

文件列表展示： 以列表形式显示检测到的文件，包含文件名、文件大小、最后修改时间等关键信息。

多文件选择与下载： 用户可以选择一个或多个文件进行下载。

下载进度显示： 显示每个文件或总体的下载进度（例如：进度条或百分比）。

本地保存路径选择： 允许用户选择文件下载到本地的保存目录。

3. 用户界面 (UI) 规划 - 简介的类 iOS 风格
UI 设计将追求简洁、直观、扁平化的类 iOS 风格，注重信息层级、留白和用户交互的流畅性。

3.1. 整体布局
左侧导航栏 (Sidebar)： 作为主导航区域，提供核心功能模块的切换。

图标与文本结合： 每个导航项使用简洁的图标搭配文字标签。

高亮显示： 当前选中的导航项应有明显的高亮效果。

导航项：

“主机管理” (或“SSH 连接”)

“项目配置” (或“编译项目”)

“关于/设置” (可选)

右侧内容区 (Main Content Area)： 根据左侧导航栏的选择，动态加载对应功能模块的详细内容。

3.2. 模块界面设计
3.2.1. 主机管理界面
顶部标题： “主机管理”

主机列表：

采用卡片式或列表项设计，每个卡片/列表项代表一个 SSH 主机配置。

显示主机名/IP、用户名。

右侧显示连接状态指示器（例如：绿色圆点表示已连接，灰色圆点表示未连接）。

提供“编辑”和“删除”按钮（或滑动操作）。

底部操作栏： 一个显眼的“添加新主机”按钮。

添加/编辑主机弹窗：

样式： 居中弹出，背景模糊。

表单元素： 采用圆角输入框，标签清晰。

主机名/IP、端口、用户名、密码（密码输入框可切换显示/隐藏）、密钥文件路径（带文件选择器）。

操作按钮： “测试连接”、“保存”、“取消”。

3.2.2. 项目配置界面
顶部标题： “项目配置”

项目列表：

采用列表项设计，每个列表项代表一个编译项目。

显示项目名称。

右侧提供“编辑”和“删除”按钮（或滑动操作）。

底部操作栏： 一个显眼的“添加新项目”按钮。

添加/编辑项目弹窗：

样式： 居中弹出，背景模糊。

表单元素： 圆角输入框和多行文本框。

项目名称、远程项目根路径、编译命令（多行文本框，支持滚动）、编译产物目标目录。

操作按钮： “保存”、“取消”。

3.2.3. 编译执行与产物下载界面
顶部信息区： 显示当前选中的项目名称和连接的远程主机信息。

编译日志区：

一个大型的、可滚动的文本区域，用于实时显示编译过程中的所有输出。

背景色可区分标准输出和错误输出（可选）。

提供“清空日志”按钮。

编译控制区：

状态指示： 文字提示当前编译状态（例如：“正在编译...”）。

操作按钮： “开始编译”、“中断编译”。

编译产物区：

标题： “编译产物”

文件列表：

以表格或列表形式展示，每行一个文件。

包含复选框（用于多选）、文件名、文件大小、修改时间。

操作按钮： “刷新产物列表”（用于手动更新）、“下载选中文件”。

下载进度区： 在下载文件时，显示下载进度条或百分比。

4. 技术选型建议
Python 版本： 推荐使用 Python 3.9 或更高版本，以利用最新的语言特性和库支持。

UI 框架：

PyQt/PySide6： 强烈推荐。功能强大，跨平台兼容性好，能够实现高度定制化的 UI 和复杂的交互逻辑，非常适合模拟 iOS 风格。社区活跃，资源丰富。

CustomTkinter： 如果追求更轻量级且基于 Tkinter，CustomTkinter 提供了一套现代化的 UI 组件，可以快速搭建界面，但自定义程度可能不如 PyQt。

SSH 客户端库：

Paramiko： Python 领域事实上的 SSHv2 协议实现标准库，功能全面，稳定可靠，支持密钥认证和密码认证，易于集成。

数据持久化：

SQLite： 对于存储 SSH 连接信息和编译项目配置，使用 SQLite 数据库是最佳选择。它是一个轻量级的嵌入式数据库，无需独立服务器，易于集成和管理。

JSON/YAML： 作为备选，对于简单的配置信息，也可以考虑使用 JSON 或 YAML 文件进行存储，但不如 SQLite 灵活。

打包工具：

PyInstaller： 将 Python 应用程序及其所有依赖项打包成独立的可执行文件，方便分发给没有 Python 环境的用户。

5. 开发里程碑 (建议)
第一阶段：基础框架与 SSH 连接

搭建 UI 框架，实现主窗口和侧边导航栏。

实现 SSH 连接的添加、编辑、删除、保存与加载功能。

实现 SSH 连接测试与状态显示。

第二阶段：编译项目管理

实现编译项目的添加、编辑、删除、保存与加载功能。

在 UI 上展示编译项目列表。

第三阶段：远程编译核心

集成 Paramiko 库，实现远程命令执行。

实现实时编译日志输出到 UI。

实现编译状态的更新和中断编译功能。

第四阶段：文件管理与下载

实现远程目录文件列表的获取和展示。

实现文件的选择和下载功能。

实现下载进度显示。

第五阶段：UI 优化、错误处理与打包

全面优化 UI 细节，确保类 iOS 风格的统一性和美观度。

完善错误处理机制和用户友好的提示信息。

使用 PyInstaller 打包应用程序，生成可执行文件。
